

rhox_beorg_nor_monster_hunts= {
	["monster_hunt_0"] = {
			["mission"] = "wh_dlc08_monster_hunt_0_stage_1",
			["mpc_mission"] = "wh_dlc08_monster_hunt_0_stage_4_mpc",
			["qb"] = "wh_dlc08_qb_nor_monster_hunt_0",
			["fin"] = "wh_dlc08_nor_monster_hunt_0_dilemma_reward",
			["state"] = "active",
			["reward"] = "wh_dlc08_anc_enchanted_item_ancient_frost_wyrm_scale",
			["tech"] = "wh_dlc08_tech_nor_creatures_01"
	},
	["monster_hunt_1"] = {
			["mission"] = "wh_dlc08_monster_hunt_1_stage_1",
			["mpc_mission"] = "wh_dlc08_monster_hunt_1_stage_5_mpc",
			["qb"] = "wh_dlc08_qb_nor_monster_hunt_1",
			["fin"] = "wh_dlc08_nor_monster_hunt_1_dilemma_reward",
			["state"] = "active",
			["reward"] = "wh_dlc08_anc_talisman_giant_cygor_eyeball",
			["tech"] = "wh_dlc08_tech_nor_creatures_01"
	},
	["monster_hunt_2"] = {
			["mission"] = "wh_dlc08_monster_hunt_2_stage_1",
			["mpc_mission"] = "wh_dlc08_monster_hunt_2_stage_4_mpc",
			["qb"] = "wh_dlc08_qb_nor_monster_hunt_2",
			["fin"] = "wh_dlc08_nor_monster_hunt_2_dilemma_reward",
			["state"] = "active",
			["reward"] = "wh_dlc08_anc_enchanted_item_great_horn_of_dragon_ogre",
			["tech"] = "wh_dlc08_tech_nor_creatures_01"
	},
	["monster_hunt_3"] = {
			["mission"] = "wh_dlc08_monster_hunt_3_stage_1",
			["mpc_mission"] = "wh_dlc08_monster_hunt_3_stage_3_mpc",
			["qb"] = "wh_dlc08_qb_nor_monster_hunt_3",
			["fin"] = "wh_dlc08_nor_monster_hunt_3_dilemma_reward",
			["state"] = "active",
			["reward"] = "wh_dlc08_anc_enchanted_item_arachnarok_eggs",
			["tech"] = "wh_dlc08_tech_nor_creatures_06"
	},
	["monster_hunt_4"] = {
			["mission"] = "wh_dlc08_monster_hunt_4_stage_1",
			["mpc_mission"] = "wh_dlc08_monster_hunt_4_stage_3_2_mpc",
			["qb"] = "wh_dlc08_qb_nor_monster_hunt_4",
			["fin"] = "wh_dlc08_nor_monster_hunt_4_dilemma_reward",
			["state"] = "active",
			["reward"] = "wh_dlc08_anc_weapon_stinky_giant_club",
			["tech"] = "wh_dlc08_tech_nor_creatures_06"
	},
	["monster_hunt_5"] = {
			["mission"] = "wh_dlc08_monster_hunt_5_stage_1",
			["mpc_mission"] = "wh_dlc08_monster_hunt_5_stage_3_mpc",
			["qb"] = "wh_dlc08_qb_nor_monster_hunt_5",
			["fin"] = "wh_dlc08_nor_monster_hunt_5_dilemma_reward",
			["state"] = "active",
			["reward"] = "wh_dlc08_anc_weapon_forest_dragon_fang",
			["tech"] = "wh_dlc08_tech_nor_creatures_06"
	},
	["monster_hunt_6"] = {
			["mission"] = "wh_dlc08_monster_hunt_6_stage_1",
			["mpc_mission"] = "wh_dlc08_monster_hunt_6_stage_3_mpc",
			["qb"] = "wh_dlc08_qb_nor_monster_hunt_6",
			["fin"] = "wh_dlc08_nor_monster_hunt_6_dilemma_reward",
			["state"] = "active",
			["reward"] = "wh_dlc08_anc_magic_standard_ancient_mammoth_cub",
			["tech"] = "wh_dlc08_tech_nor_creatures_07"
	},
	["monster_hunt_7"] = {
			["mission"] = "wh_dlc08_monster_hunt_7_stage_1",
			["mpc_mission"] = "wh_dlc08_monster_hunt_7_stage_3_mpc",
			["qb"] = "wh_dlc08_qb_nor_monster_hunt_7",
			["fin"] = "wh_dlc08_nor_monster_hunt_7_dilemma_reward",
			["state"] = "active",
			["reward"] = "wh_dlc08_anc_talisman_terrorgheist_skull",
			["tech"] = "wh_dlc08_tech_nor_creatures_07"
	},
	["monster_hunt_8"] = {
			["mission"] = "wh2_dlc10_monster_hunt_8_stage_1",
			["mpc_mission"] = "wh2_dlc10_monster_hunt_8_stage_4_mpc",
			["qb"] = "wh2_dlc10_qb_nor_monster_hunt_8",
			["fin"] = "wh2_dlc10_nor_monster_hunt_8_dilemma_reward",
			["state"] = "active",
			["reward"] = "wh2_dlc10_anc_enchanted_item_burning_phoenix_pinion",
			["tech"] = "wh_dlc08_tech_nor_creatures_07"
	},
	["monster_hunt_9"] = {
			["mission"] = "wh2_dlc10_monster_hunt_9_stage_1",
			["mpc_mission"] = "wh2_dlc10_monster_hunt_9_stage_4_mpc",
			["qb"] = "wh2_dlc10_qb_nor_monster_hunt_9",
			["fin"] = "wh2_dlc10_nor_monster_hunt_9_dilemma_reward",
			["state"] = "active",
			["reward"] = "wh2_dlc10_anc_talisman_carnosaur_skull",
			["tech"] = "wh_dlc08_tech_nor_creatures_07"
	},
	["monster_hunt_10"] = {
			["mission"] = "wh2_dlc10_monster_hunt_10_stage_1",
			["mpc_mission"] = "wh2_dlc10_monster_hunt_10_stage_4_mpc",
			["qb"] = "wh2_dlc10_qb_nor_monster_hunt_10",
			["fin"] = "wh2_dlc10_nor_monster_hunt_10_dilemma_reward",
			["state"] = "active",
			["reward"] = "wh2_dlc10_anc_talisman_hydra_head",
			["tech"] = "wh_dlc08_tech_nor_creatures_07"
	},
	["monster_hunt_11"] = {
			["mission"] = "wh2_dlc10_monster_hunt_11_stage_1",
			["mpc_mission"] = "wh2_dlc10_monster_hunt_11_stage_3_mpc",
			["qb"] = "wh2_dlc10_qb_nor_monster_hunt_11",
			["fin"] = "wh2_dlc10_nor_monster_hunt_11_dilemma_reward",
			["state"] = "active",
			["reward"] = "wh2_dlc10_anc_weapon_warptech_arsenal",
			["tech"] = "wh_dlc08_tech_nor_creatures_07"
	}
}



cm:add_first_tick_callback_new(
    function() 
        monster_hunts["mixer_nur_rotbloods"]=rhox_beorg_nor_monster_hunts
    end
);


local monster_hunts_index = {
	"monster_hunt_0",
	"monster_hunt_1",
	"monster_hunt_2",
	"monster_hunt_3",
	"monster_hunt_4",
	"monster_hunt_5",
	"monster_hunt_6",
	"monster_hunt_7",
	"monster_hunt_8",
	"monster_hunt_9",
	"monster_hunt_10",
	"monster_hunt_11"
};


core:add_listener(
	"rhox_beorg_MonsterHuntMissionSucceeded",
	"MissionSucceeded",
	function(context)
		local faction_key = context:faction():name();
		return faction_key == "mixer_nur_rotbloods"
	end,
	function(context)
		local faction = context:faction():name();
		local key = context:mission():mission_record_key();
		
		
		local monster_hunt_data_for_faction = monster_hunts[faction]
		if monster_hunt_data_for_faction == nil then
			monster_hunt_data_for_faction = monster_hunts["wh_dlc08_nor_norsca"]
		end	
		
		for i = 1, #monster_hunts_index do
			if key == monster_hunt_data_for_faction[monster_hunts_index[i]]["qb"] then
				if not cm:get_saved_value("norscan_favour_lvl_3_reached_" .. faction) then
					cm:trigger_dilemma(faction, monster_hunt_data_for_faction[monster_hunts_index[i]]["fin"]);
				end;
				
				deactivate_a_monster_hunt(monster_hunts_index[i], faction);
				
				if key == "wh_dlc08_qb_nor_monster_hunt_6" then
					cm:remove_event_restricted_unit_record_for_faction("wh_dlc08_nor_mon_war_mammoth_ror_1", faction);
				elseif key == "wh_dlc08_qb_nor_monster_hunt_0" then
					cm:remove_event_restricted_unit_record_for_faction("wh_dlc08_nor_mon_frost_wyrm_ror_0", faction);
				end;
			end;
		end;
	end,
	true
);